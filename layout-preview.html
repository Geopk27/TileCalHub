<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Tile Layout Preview</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body class="bg-gray-100">
  <main class="container mx-auto p-4">
    <div class="bg-white p-4 rounded shadow">
      <h1 class="text-2xl font-bold mb-4">Tile Layout Preview</h1>
      <div id="previewContainer" class="border border-gray-200"></div>
      <div class="mt-6 flex gap-4">
        <button onclick="window.print()" class="bg-blue-600 text-white px-4 py-2 rounded">
          🖨 Print
        </button>
        <button onclick="downloadPDF()" class="bg-green-600 text-white px-4 py-2 rounded">
          📄 Download PDF
        </button>
      </div>
    </div>
  </main>

  <script>
    // 追加标题上显示当前铺贴模式（来自URL参数）
    window.addEventListener("DOMContentLoaded", function () {
      const params = new URLSearchParams(window.location.search);
      const pattern = params.get('pattern') || 'grid';
      const patternName = {
        'grid': '网格',
        'herringbone': '人字形',
        'chevron': '人字斜接',
        'offset': '错缝',
        'basket-weave': '篮编',
        'block-herringbone': '块状人字',
        'stepladder': '阶梯',
        'diamond': '斜铺',
        'chequerboard': '棋盘格'
      };
      document.querySelector('h1').textContent += ` - ${patternName[pattern] || pattern}`;
    });
  </script>

  <script src="js/previewCanvas_v1.js"></script>
</body>
</html>
